<!DOCTYPE html>
<html lang="de">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title data-i18n="title"></title>
    <link rel="stylesheet" href="styles.css" />
    <script src="pages/promptManagement.js" defer></script>
    <script src="pages/utils.js" defer></script>
    <script src="loginSystem.js" defer></script>
    <script src="main.js" defer></script>
  </head>
  <body>
    <div class="popup">
      <!-- Header -->
      <header class="header">
        <div class="left-header">
          <div class="burger-menu" id="burger-menu">‚ò∞</div>
          <div class="icon" id="settings-icon">‚öô</div>
          <div class="icon" id="tools-icon">üîß</div>
        </div>
        <div class="right-header">
          <button id="overview-btn" class="fullscreen-btn">
            ‚ÜóÔ∏è Full screen
          </button>
          <button id="faq-btn" class="fullscreen-btn">‚ùì</button>
          <div class="user-icon" id="user-icon">üë§</div>
        </div>
        <div class="search-field">
          <input
            type="text"
            data-i18n-placeholder="search_placeholder"
            id="search-input"
          />
        </div>
      </header>

      <!-- Hauptinhalt -->
      <div class="main-content">
        <label data-i18n="sort_by_label"></label>
        <button class="sort-btn"></button>
        <div class="sort-dropdown" id="sort-dropdown" style="display: none">
          <div class="sort-section">
            <div class="sort-header" data-i18n="sort_order"></div>
            <button
              class="sort-option"
              data-sort-order="ascending"
              data-i18n="sort_ascending"
            ></button>
            <button
              class="sort-option"
              data-sort-order="descending"
              data-i18n="sort_descending"
            ></button>
          </div>
          <div class="sort-section">
            <div class="sort-header" data-i18n="sort_by"></div>
            <button
              class="sort-option"
              data-sort-by="title"
              data-i18n="sort_by_title"
            ></button>
            <button
              class="sort-option"
              data-sort-by="lastUsed"
              data-i18n="sort_by_last_used"
            ></button>
            <button
              class="sort-option"
              data-sort-by="createdAt"
              data-i18n="sort_by_last_created"
            ></button>
            <button
              class="sort-option"
              data-sort-by="mostUsed"
              data-i18n="sort_by_most_used"
            ></button>
          </div>
        </div>
        <div class="table-container">
          <table class="entry-table">
            <tbody></tbody>
          </table>
        </div>
      </div>

      <!-- Plus-Button -->
      <button class="plus-btn" id="plus-btn">+</button>

      <!-- Seitennavigation -->
      <div class="side-nav" id="side-nav">
        <div class="nav-header">
          <button id="close-nav">‚Üê</button>
        </div>
        <div class="accordion">
          <div class="accordion-item">
            <div class="accordion-header" data-i18n="categories"></div>
            <div class="accordion-content">
              <ul>
                <li data-i18n="category_favorites"></li>
                <li data-i18n="category_all_prompts"></li>
                <li data-i18n="category_single_prompts"></li>
                <li data-i18n="category_categorised_prompts"></li>
                <li data-i18n="category_dynamic_prompts"></li>
                <li data-i18n="category_static_prompts"></li>
                <li data-i18n="category_unused_prompts"></li>
                <li data-i18n="category_trash"></li>
              </ul>
            </div>
          </div>
          <div class="accordion-item folders-accordion">
            <div class="accordion-header">
              <span data-i18n="folders"></span>
              <button
                class="add-folder-header-btn"
                data-i18n-title="add_folder"
              >
                +
              </button>
            </div>
            <div class="accordion-content folders-content">
              <input
                type="text"
                class="folder-search"
                data-i18n-placeholder="folder_search_placeholder"
              />
              <ul class="folder-list"></ul>
            </div>
          </div>
        </div>
      </div>

      <!-- Detailansicht -->
      <div class="detail-overlay" id="detail-overlay">
        <div class="detail-header">
          <button id="back-btn">‚Üê</button>
          <h2 id="detail-title" data-i18n="entry_details"></h2>
          <button id="edit-btn" data-i18n="edit_button"></button>
        </div>
        <div class="detail-content">
          <div class="detail-field">
            <label data-i18n="title_label"></label>
            <input
              type="text"
              id="entry-title"
              readonly
              data-i18n-placeholder="title_placeholder"
            />
          </div>
          <div class="detail-field">
            <label data-i18n="description_label"></label>
            <textarea
              id="entry-description"
              readonly
              data-i18n-placeholder="description_placeholder"
            ></textarea>
          </div>
          <div class="detail-field">
            <label data-i18n="content_label"></label>
            <textarea
              id="entry-content"
              readonly
              data-i18n-placeholder="content_placeholder"
            ></textarea>
          </div>
          <div class="detail-field">
            <label data-i18n="notes_label"></label>
            <textarea
              id="entry-notes"
              readonly
              data-i18n-placeholder="notes_placeholder"
            ></textarea>
          </div>
          <div class="detail-field">
            <label data-i18n="last_modified_label"></label>
            <input type="text" id="entry-last-modified" readonly />
          </div>
          <div class="detail-field">
            <label data-i18n="type_label"></label>
            <select id="entry-types" disabled>
              <!-- Dynamisch bef√ºllt -->
            </select>
            <div
              class="type-input-group"
              id="type-input-group"
              style="display: none"
            >
              <input
                type="text"
                id="new-type"
                data-i18n-placeholder="new_type_placeholder"
              />
              <button
                type="button"
                class="action-btn"
                id="add-type-btn"
                data-i18n="add_type_button"
              >
                Add New Type
              </button>
            </div>
          </div>
          <div class="detail-field">
            <label data-i18n="compatible_models_label"></label>
            <div class="checkbox-group scrollable" id="entry-compatible">
              <label
                ><input
                  type="checkbox"
                  name="compatible"
                  value="Grok"
                  disabled
                />Grok</label
              >
              <label
                ><input
                  type="checkbox"
                  name="compatible"
                  value="Gemini"
                  disabled
                />Gemini</label
              >
              <label
                ><input
                  type="checkbox"
                  name="compatible"
                  value="ChatGPT"
                  disabled
                />ChatGPT</label
              >
              <label
                ><input
                  type="checkbox"
                  name="compatible"
                  value="Claude"
                  disabled
                />Claude</label
              >
              <label
                ><input
                  type="checkbox"
                  name="compatible"
                  value="BlackBox"
                  disabled
                />BlackBox</label
              >
              <label
                ><input
                  type="checkbox"
                  name="compatible"
                  value="GitHub Copilot"
                  disabled
                />GitHub Copilot</label
              >
              <label
                ><input
                  type="checkbox"
                  name="compatible"
                  value="Microsoft Copilot"
                  disabled
                />Microsoft Copilot</label
              >
              <label
                ><input
                  type="checkbox"
                  name="compatible"
                  value="Mistral"
                  disabled
                />Mistral</label
              >
              <label
                ><input
                  type="checkbox"
                  name="compatible"
                  value="DuckDuckGo"
                  disabled
                />DuckDuckGo</label
              >
              <label
                ><input
                  type="checkbox"
                  name="compatible"
                  value="Perplexity"
                  disabled
                />Perplexity</label
              >
              <label
                ><input
                  type="checkbox"
                  name="compatible"
                  value="DeepSeek"
                  disabled
                />DeepSeek</label
              >
              <label
                ><input
                  type="checkbox"
                  name="compatible"
                  value="Deepai"
                  disabled
                />Deepai</label
              >
              <label
                ><input
                  type="checkbox"
                  name="compatible"
                  value="Qwen AI"
                  disabled
                />Qwen AI</label
              >
            </div>
          </div>
          <div class="detail-field">
            <label data-i18n="incompatible_models_label"></label>
            <div class="checkbox-group scrollable" id="entry-incompatible">
              <label
                ><input
                  type="checkbox"
                  name="incompatible"
                  value="Grok"
                  disabled
                />Grok</label
              >
              <label
                ><input
                  type="checkbox"
                  name="incompatible"
                  value="Gemini"
                  disabled
                />Gemini</label
              >
              <label
                ><input
                  type="checkbox"
                  name="incompatible"
                  value="ChatGPT"
                  disabled
                />ChatGPT</label
              >
              <label
                ><input
                  type="checkbox"
                  name="incompatible"
                  value="Claude"
                  disabled
                />Claude</label
              >
              <label
                ><input
                  type="checkbox"
                  name="incompatible"
                  value="BlackBox"
                  disabled
                />BlackBox</label
              >
              <label
                ><input
                  type="checkbox"
                  name="incompatible"
                  value="GitHub Copilot"
                  disabled
                />GitHub Copilot</label
              >
              <label
                ><input
                  type="checkbox"
                  name="incompatible"
                  value="Microsoft Copilot"
                  disabled
                />Microsoft Copilot</label
              >
              <label
                ><input
                  type="checkbox"
                  name="incompatible"
                  value="Mistral"
                  disabled
                />Mistral</label
              >
              <label
                ><input
                  type="checkbox"
                  name="incompatible"
                  value="DuckDuckGo"
                  disabled
                />DuckDuckGo</label
              >
              <label
                ><input
                  type="checkbox"
                  name="incompatible"
                  value="Perplexity"
                  disabled
                />Perplexity</label
              >
              <label
                ><input
                  type="checkbox"
                  name="incompatible"
                  value="DeepSeek"
                  disabled
                />DeepSeek</label
              >
              <label
                ><input
                  type="checkbox"
                  name="incompatible"
                  value="Deepai"
                  disabled
                />Deepai</label
              >
              <label
                ><input
                  type="checkbox"
                  name="incompatible"
                  value="Qwen AI"
                  disabled
                />Qwen AI</label
              >
            </div>
          </div>
          <div class="detail-field">
            <label data-i18n="tags_label"></label>
            <div class="checkbox-group scrollable" id="entry-tags">
              <!-- Checkboxes will be dynamically populated -->
            </div>
            <div
              class="tag-input-group"
              id="tag-input-group"
              style="display: none"
            >
              <input
                type="text"
                id="new-tag"
                data-i18n-placeholder="new_tag_placeholder"
              />
              <button
                type="button"
                class="action-btn"
                id="add-tag-btn"
                data-i18n="add_tag_button"
              >
                Add New Tag
              </button>
            </div>
          </div>
          <div class="detail-field">
            <label data-i18n="favorite_label"></label>
            <input type="checkbox" id="entry-favorite" disabled />
          </div>
          <div class="detail-field">
            <label data-i18n="created_at_label"></label>
            <input type="text" id="entry-created-at" readonly />
          </div>
          <div class="detail-field">
            <label data-i18n="last_used_label"></label>
            <input type="text" id="entry-last-used" readonly />
          </div>
          <div class="detail-field">
            <label data-i18n="folder_label"></label>
            <select id="entry-folder" disabled>
              <option value="" data-i18n="folder_select"></option>
            </select>
          </div>
          <div class="detail-actions">
            <button class="save-btn-edit" data-i18n="save_button"></button>
            <button class="cancel-btn-edit" data-i18n="cancel_button"></button>
          </div>
        </div>
      </div>

      <div class="detail-overlay" id="add-overlay">
        <div class="detail-header">
          <button id="back-btn-add">‚Üê</button>
          <h2 id="detail-title-add" data-i18n="entry_details"></h2>
        </div>
        <div class="detail-content">
          <div class="detail-field">
            <label data-i18n="title_label"></label>
            <input
              type="text"
              id="entry-title-add"
              data-i18n-placeholder="title_placeholder"
            />
          </div>
          <div class="detail-field">
            <label data-i18n="description_label"></label>
            <textarea
              id="entry-description-add"
              data-i18n-placeholder="description_placeholder"
            ></textarea>
          </div>
          <div class="detail-field">
            <label data-i18n="content_label"></label>
            <textarea
              id="entry-content-add"
              data-i18n-placeholder="content_placeholder"
            ></textarea>
          </div>
          <div class="detail-field">
            <label data-i18n="notes_label"></label>
            <textarea
              id="entry-notes-add"
              data-i18n-placeholder="notes_placeholder"
            ></textarea>
          </div>
          <div class="detail-field">
            <label data-i18n="type_label"></label>
            <div class="checkbox-group scrollable" id="entry-types-add">
              <!-- Checkboxes will be dynamically populated -->
            </div>
            <div class="type-input-group" id="type-input-group">
              <input
                type="text"
                id="new-type_add"
                data-i18n-placeholder="new_type_placeholder"
              />
              <button
                type="button"
                class="action-btn"
                id="add-type-btn_add"
                data-i18n="add_type_button"
              >
                Add New Type
              </button>
            </div>
          </div>
          <div class="detail-field">
            <label data-i18n="tags_label"></label>
            <div class="checkbox-group scrollable" id="entry-tags-add">
              <!-- Checkboxes will be dynamically populated -->
            </div>
            <div class="tag-input-group" id="tag-input-group">
              <input
                type="text"
                id="new-tag_add"
                data-i18n-placeholder="new_tag_placeholder"
              />
              <button
                type="button"
                class="action-btn"
                id="add-tag-btn_add"
                data-i18n="add_tag_button"
              >
                Add New Tag
              </button>
            </div>
          </div>
          <div class="detail-field">
            <label data-i18n="favorite_label"></label>
            <input type="checkbox" id="entry-favorite-add" />
          </div>
          <div class="detail-field">
            <label data-i18n="folder_label"></label>
            <select id="entry-folder-add">
              <option value="" data-i18n="folder_select"></option>
            </select>
          </div>
          <div class="detail-actions">
            <button class="save-btn-add" data-i18n="save_button"></button>
            <button class="cancel-btn-add" data-i18n="cancel_button"></button>
          </div>
        </div>
      </div>

      <!-- Toolsansicht -->
      <div class="detail-overlay" id="tools-overlay">
        <div class="detail-header">
          <button id="tools-back-btn">‚Üê</button>
          <h2 id="tools-title" data-i18n="tools_title"></h2>
        </div>
        <div class="toggle-container">
          <p data-i18n="mark_the_prompt_with_mouse_to_save"></p>
          <label
            class="toggle-label"
            for="highlight-toggle"
            data-i18n="mark_to_prompt"
          ></label>
          <label class="toggle-switch">
            <input type="checkbox" id="highlight-toggle" />
            <span class="toggle-slider"></span>
          </label>
        </div>
        <div class="tags" data-i18n="tag_overview">Tag Overview</div>
        <br />
        <div class="types" data-i18n="type_overview">Type Overview</div>
        <br />
        <div class="workflows" data-i18n="workflows">Workflows</div>
        <br />
        <div class="text-anonymizer" data-i18n="text_anonymizer">
          Text Anonymizer
        </div>
        <br />
        <div class="prompt-analytics" data-i18n="prompt_analytics">
          Prompt Analytics
        </div>
      </div>

      <!-- Einstellungsansicht -->
      <div class="detail-overlay" id="settings-overlay">
        <div class="detail-header">
          <button id="settings-back-btn">‚Üê</button>
          <h2 id="settings-title" data-i18n="settings_title"></h2>
        </div>
        <div class="detail-content">
          <div class="detail-field">
            <label data-i18n="theme_label"></label>
            <select id="theme-select">
              <option value="dark" data-i18n="theme_dark"></option>
              <option value="light" data-i18n="theme_light"></option>
              <option value="system" data-i18n="theme_system"></option>
            </select>
          </div>
          <div class="detail-field">
            <label data-i18n="language_label"></label>
            <select id="language-select">
              <option value="de" data-i18n="language_de"></option>
              <option value="en" data-i18n="language_en"></option>
              <option value="fr" data-i18n="language_fr"></option>
              <option value="hi" data-i18n="language_hi"></option>
              <option value="zh" data-i18n="language_zh"></option>
              <option value="it" data-i18n="language_it"></option>
              <option value="es" data-i18n="language_es"></option>
              <option value="pt" data-i18n="language_pt"></option>
              <option value="ru" data-i18n="language_ru"></option>
              <option value="ja" data-i18n="language_ja"></option>
              <option value="ko" data-i18n="language_ko"></option>
              <option value="tr" data-i18n="language_tr"></option>
              <option value="ar" data-i18n="language_ar"></option>
            </select>
          </div>
          <div class="detail-field">
            <label data-i18n="prompts_label"></label>
            <div class="settings-actions">
              <button id="import-prompt-btn" data-i18n="import_prompt"></button>
              <button id="export-prompt-btn" data-i18n="export_prompt"></button>
            </div>
          </div>
          <div class="detail-field">
            <label data-i18n="data_label"></label>
            <button id="delete-data-btn" data-i18n="delete_data"></button>
          </div>
          <div class="detail-field">
            <label data-i18n="feedback_support_label"></label>
            <div class="settings-actions">
              <button id="feedback-btn" data-i18n="feedback_button"></button>
              <button
                id="feature-request-btn"
                data-i18n="feature_request_button"
              ></button>
              <button id="review-btn" data-i18n="review_button"></button>
              <button
                id="discord-link-btn"
                data-i18n="discord-link-btn"
              ></button>
            </div>
          </div>
        </div>
      </div>

      <!-- User & Login Ansicht -->
      <div class="detail-overlay" id="user-overlay">
        <div class="detail-header">
          <button id="user-back-btn">‚Üê</button>
          <h2 id="user-title">Login</h2>
        </div>

        <div class="detail-content">
          <!-- LOGIN FORM -->
          <form id="login-form" class="user-form">
            <div class="detail-field">
              <label>Email</label>
              <input type="email" required />

              <label>Password</label>
              <input type="password" required />
            </div>
            <button type="submit" class="btn">Login</button>
            <p class="switch-text">
              No account? <a href="#" id="show-register">Register</a><br />
              <a href="#" id="show-reset">Forgot password?</a>
            </p>
          </form>

          <!-- REGISTER FORM -->
          <form id="register-form" class="user-form" style="display: none">
            <div class="detail-field">
              <label>Name</label>
              <input type="text" required />

              <label>Email</label>
              <input type="email" required />

              <label>Password</label>
              <input type="password" required />

              <label>Confirm Password</label>
              <input type="password" required />
            </div>
            <button type="submit" class="btn">Register</button>
            <p class="switch-text">
              Already have an account? <a href="#" id="show-login">Login</a>
            </p>
          </form>

          <!-- RESET PASSWORD FORM -->
          <form id="reset-form" class="user-form" style="display: none">
            <div class="detail-field">
              <label>Email</label>
              <input type="email" required />
            </div>
            <button type="submit" class="btn">Reset Password</button>
            <p class="switch-text">
              Remembered? <a href="#" id="show-login-2">Back to Login</a>
            </p>
          </form>

          <!-- USER DASHBOARD (nach Login) -->
          <div id="user-dashboard" style="display: none">
            <h3>Welcome, <span id="user-email"></span></h3>
            <p>Your API Token:</p>
            <textarea
              id="user-token"
              readonly
              style="width: 100%; height: 50px"
            ></textarea>
            <button id="copy-token-btn" class="btn">Copy Token</button>

            <h4>Change Password</h4>
            <input
              type="password"
              id="new-password"
              placeholder="New password"
            />
            <button id="change-password-btn" class="btn">
              Change Password
            </button>

            <button id="logout-btn" class="btn" style="margin-top: 20px">
              Logout
            </button>
          </div>
        </div>
      </div>

      <!-- Ordneransicht -->
      <div class="folder-overlay" id="folder-overlay">
        <div class="folder-header">
          <button class="back-btn" id="folder-back-btn">
            <span class="material-icons">‚Üê</span>
          </button>
          <h2 id="folder-title"></h2>
        </div>
        <div class="folder-content">
          <div class="folder-details">
            <input
              type="text"
              class="prompt-search"
              id="prompt-search"
              data-i18n-placeholder="prompt_search_placeholder"
            />
            <label data-i18n="sort_by_label"></label>
            <button
              class="sort-btn"
              id="folder-sort-btn"
              data-i18n="sort_button"
            ></button>
            <div
              class="sort-dropdown"
              id="folder-sort-dropdown"
              style="display: none"
            >
              <div class="sort-section">
                <div class="sort-header" data-i18n="sort_order"></div>
                <button
                  class="sort-option"
                  data-sort-order="ascending"
                  data-i18n="sort_ascending"
                ></button>
                <button
                  class="sort-option"
                  data-sort-order="descending"
                  data-i18n="sort_descending"
                ></button>
              </div>
              <div class="sort-section">
                <div class="sort-header" data-i18n="sort_by"></div>
                <button
                  class="sort-option"
                  data-sort-by="title"
                  data-i18n="sort_by_title"
                ></button>
                <button
                  class="sort-option"
                  data-sort-by="lastUsed"
                  data-i18n="sort_by_last_used"
                ></button>
              </div>
            </div>
          </div>
          <div class="prompts-table">
            <table class="entry-table folder-entry-table">
              <tbody id="folder-entries"></tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
  </body>
</html>
